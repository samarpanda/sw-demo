{"version":3,"sources":["webpack:///1.chunk.c5ac0.js","webpack:///../node_modules/q-components/components/search/trendingSearches/index.js","webpack:///../node_modules/q-components/components/search/recentSearches/index.js","webpack:///../node_modules/q-components/components/search/searchPopup/index.js"],"names":["webpackJsonp","/CLT","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","recentSearches__classCallCheck","instance","Constructor","recentSearches__possibleConstructorReturn","recentSearches__inherits","searchPopup__classCallCheck","searchPopup__possibleConstructorReturn","searchPopup__inherits","defineProperty","preact_min","pageLayer","material_toolbar","material_toolbar_row","material_toolbar_section","material_toolbar_title","material_list","material_list_item","headerIcons","searchIcons","axios","axios_default","n","constants","helpers","trendingSearches_TrendingSearches","_Component","TrendingSearches","props","_this","this","fetchTrendingSearches","sessionStorage","trendingSearches","JSON","parse","getItem","length","setState","data","a","post","headers","Content-Type","then","response","forEach","searchItem","push","keys","attr","reduce","str","currentValue","setItem","stringify","handleClick","event","target","innerText","onClick","searchCallback","state","componentDidMount","render","_this2","map","class","search_trendingSearches","recentSearches_RecentSearches","RecentSearches","fetchRecentSearches","localStorage","recentSearches","split","handleRecentSearchClick","handleClearClick","e","onClearClick","className","search_recentSearches","lib","lib_default","regex","axiosInstance","baseURL","timeout","accept","accept-language","cache-control","postman-token","cookies","searchPopup_searchPopup","searchPopup","processText","text","strippedText","replace","parts","RegExp","part","i","toLowerCase","key","style","fontWeight","defaultSearchHandler","hostname","window","location","cityId","get","subdom","res","status","results","err","catch","updateSearchSuggestions","searchSuggestions","handleSearch","onSearchCallback","handleSearchRedirect","preventDefault","pushToRecentSearches","onSearchSubmit","redirectToSearchResults","onRecentSearchClick","handleTrendingSearchClick","onTrendingSearchClick","index","indexOf","splice","pop","unshift","getSearchSuggestions","_this$state","suggestions","v","id","link","href","url","keyworddata","subcatdata","_ref","_ref2","show","placeholder","closePopup","_ref$showTrendingSear","showTrendingSearches","undefined","_ref$showRecentSearch","showRecentSearches","start","onSubmit","autoFocus","type","onInput"],"mappings":"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","file":"1.chunk.c5ac0.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"/CLT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// EXTERNAL MODULE: ../node_modules/q-components/components/pageLayer/index.js\nvar pageLayer = __webpack_require__(\"uoES\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-toolbar/index.js\nvar material_toolbar = __webpack_require__(\"wlTu\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-toolbar-row/index.js\nvar material_toolbar_row = __webpack_require__(\"IpDW\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-toolbar-section/index.js\nvar material_toolbar_section = __webpack_require__(\"SaRr\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-toolbar-title/index.js\nvar material_toolbar_title = __webpack_require__(\"cZ+C\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-list/index.js\nvar material_list = __webpack_require__(\"QO9c\");\n\n// EXTERNAL MODULE: ../node_modules/q-mdc/elements/material-list-item/index.js\nvar material_list_item = __webpack_require__(\"i30l\");\n\n// EXTERNAL MODULE: ../node_modules/q-components/components/icons/headerIcons/index.js + 4 modules\nvar headerIcons = __webpack_require__(\"Bkqj\");\n\n// EXTERNAL MODULE: ../node_modules/q-components/components/icons/searchIcons/index.js + 4 modules\nvar searchIcons = __webpack_require__(\"CkQa\");\n\n// EXTERNAL MODULE: ../node_modules/axios/index.js\nvar axios = __webpack_require__(\"dZBD\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ../node_modules/q-components/components/search/suggester.scss\nvar suggester = __webpack_require__(\"T6tC\");\nvar suggester_default = /*#__PURE__*/__webpack_require__.n(suggester);\n\n// EXTERNAL MODULE: ../node_modules/q-components/helpers/constants.js\nvar constants = __webpack_require__(\"LH+s\");\n\n// EXTERNAL MODULE: ../node_modules/q-components/helpers/index.js\nvar helpers = __webpack_require__(\"xuq0\");\n\n// CONCATENATED MODULE: ../node_modules/q-components/components/search/trendingSearches/index.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\nvar trendingSearches_TrendingSearches = function (_Component) {\n\t_inherits(TrendingSearches, _Component);\n\n\tfunction TrendingSearches(props) {\n\t\t_classCallCheck(this, TrendingSearches);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.fetchTrendingSearches = function () {\n\t\t\t// fetch trending searches from APi\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS for more info on CORS preflight headers\n\t\t\t// Can use URLSearchParams but there is only value to send, and URLSearchParams has some browser dependencies and we can even use encodeURIComponent\n\t\t\t// Or we can configure our server to send Accept: * in CORS preflight request\n\t\t\tif (sessionStorage) {\n\t\t\t\tvar trendingSearches = JSON.parse(sessionStorage.getItem(constants[\"k\" /* TRENDING_SEARCHES_KEY */]));\n\t\t\t\tif (trendingSearches && trendingSearches.length > 0) {\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\ttrendingSearches: trendingSearches\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar data = 'cityId=' + Object(helpers[\"b\" /* getCurrentCityId */])();\n\t\t\taxios_default.a.post(constants[\"i\" /* HEADER_API_HOST */] + '/' + constants[\"l\" /* TRENDING_SEARCH_API_PATH */], data, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t}\n\t\t\t}).then(function (response) {\n\t\t\t\tvar trendingSearches = [];\n\t\t\t\tif (response.data) {\n\t\t\t\t\tresponse.data.forEach(function (searchItem, index) {\n\t\t\t\t\t\ttrendingSearches.push(Object.keys(searchItem.attr).reduce(function (str, currentValue) {\n\t\t\t\t\t\t\treturn str + ' ' + searchItem.attr[currentValue];\n\t\t\t\t\t\t}, ''));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (sessionStorage) {\n\t\t\t\t\tsessionStorage.setItem(constants[\"k\" /* TRENDING_SEARCHES_KEY */], JSON.stringify(trendingSearches));\n\t\t\t\t}\n\t\t\t\t_this.setState({\n\t\t\t\t\ttrendingSearches: trendingSearches\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\t_this.handleClick = function (event) {\n\t\t\tvar value = event.target.innerText;\n\t\t\tif (_this.props.onClick && typeof _this.props.onClick === 'function') {\n\t\t\t\t_this.props.onClick(value, event);\n\t\t\t} else {\n\t\t\t\tvar searchCallback = _this.props.searchCallback;\n\n\t\t\t\tsearchCallback(value);\n\t\t\t}\n\t\t};\n\n\t\t_this.state = {\n\t\t\ttrendingSearches: []\n\t\t};\n\t\treturn _this;\n\t}\n\n\tTrendingSearches.prototype.componentDidMount = function componentDidMount() {\n\t\tthis.fetchTrendingSearches();\n\t};\n\n\tTrendingSearches.prototype.render = function render() {\n\t\tvar _this2 = this;\n\n\t\tvar trendingSearches = this.state.trendingSearches;\n\n\t\tif (trendingSearches.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'h5',\n\t\t\t\tnull,\n\t\t\t\t'Trending Searches'\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\tmaterial_list[\"a\" /* default */],\n\t\t\t\tnull,\n\t\t\t\ttrendingSearches.map(function (searchItem) {\n\t\t\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t\t\tmaterial_list_item[\"a\" /* default */],\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject(preact_min[\"h\"])(searchIcons[\"c\" /* Trending */], { 'class': 'search__suggester--icon' }),\n\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t'p',\n\t\t\t\t\t\t\t{ onClick: _this2.handleClick },\n\t\t\t\t\t\t\tsearchItem\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t};\n\n\treturn TrendingSearches;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var search_trendingSearches = (trendingSearches_TrendingSearches);\n// CONCATENATED MODULE: ../node_modules/q-components/components/search/recentSearches/index.js\nfunction recentSearches__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction recentSearches__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction recentSearches__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar recentSearches_RecentSearches = function (_Component) {\n\trecentSearches__inherits(RecentSearches, _Component);\n\n\tfunction RecentSearches(props) {\n\t\trecentSearches__classCallCheck(this, RecentSearches);\n\n\t\tvar _this = recentSearches__possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.fetchRecentSearches = function () {\n\t\t\tif (localStorage) {\n\t\t\t\tvar recentSearches = localStorage.getItem(constants[\"j\" /* RECENT_SEARCHES_KEY */]);\n\t\t\t\tif (recentSearches) {\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\trecentSearches: recentSearches.split(',')\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_this.handleRecentSearchClick = function (event) {\n\t\t\tvar value = event.target.innerText;\n\t\t\tif (_this.props.onClick && typeof _this.props.onClick === 'function') {\n\t\t\t\t_this.props.onClick(value, event);\n\t\t\t} else {\n\t\t\t\tvar searchCallback = _this.props.searchCallback;\n\n\t\t\t\tif (searchCallback && typeof searchCallback === 'function') {\n\t\t\t\t\tsearchCallback(value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_this.handleClearClick = function (e) {\n\t\t\tif (_this.props.onClearClick && typeof _this.props.onClearClick === 'function') {\n\t\t\t\t_this.props.onClearClick(e);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem(constants[\"j\" /* RECENT_SEARCHES_KEY */], '');\n\t\t\t\t_this.setState({\n\t\t\t\t\trecentSearches: []\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t_this.state = {\n\t\t\trecentSearches: []\n\t\t};\n\t\treturn _this;\n\t}\n\n\tRecentSearches.prototype.componentDidMount = function componentDidMount() {\n\t\tthis.fetchRecentSearches();\n\t};\n\n\tRecentSearches.prototype.render = function render() {\n\t\tvar _this2 = this;\n\n\t\tvar recentSearches = this.state.recentSearches;\n\t\tvar className = this.props.className;\n\n\t\tif (recentSearches.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'div',\n\t\t\t{ className: className },\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'h5',\n\t\t\t\tnull,\n\t\t\t\t'Recent Searches',\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'a',\n\t\t\t\t\t{ onClick: this.handleClearClick },\n\t\t\t\t\t'clear'\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\tmaterial_list[\"a\" /* default */],\n\t\t\t\tnull,\n\t\t\t\trecentSearches.map(function (searchItem) {\n\t\t\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t\t\tmaterial_list_item[\"a\" /* default */],\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tObject(preact_min[\"h\"])(searchIcons[\"a\" /* Recent */], { 'class': 'search__suggester--icon' }),\n\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t'p',\n\t\t\t\t\t\t\t{ onClick: _this2.handleRecentSearchClick },\n\t\t\t\t\t\t\tsearchItem\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t)\n\t\t);\n\t};\n\n\treturn RecentSearches;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var search_recentSearches = (recentSearches_RecentSearches);\n// EXTERNAL MODULE: ../node_modules/universal-cookie/lib/index.js\nvar lib = __webpack_require__(\"Dev8\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ../node_modules/q-components/components/search/searchPopup/index.js\nfunction searchPopup__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction searchPopup__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction searchPopup__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar regex = /(<([^>]+)>)/ig;\n\nvar axiosInstance = axios_default.a.create({\n\tbaseURL: 'https://www.quikr.com/',\n\ttimeout: 1000,\n\theaders: {\n\t\taccept: 'application/json, text/javascript, */*; q=0.01',\n\t\t'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8',\n\t\t'cache-control': 'no-cache',\n\t\t'postman-token': '05ebf28a-dc1b-1d07-bc81-2b0402e3f3b5'\n\t}\n});\n\nvar cookies = new lib_default.a();\n\nvar searchPopup_searchPopup = function (_Component) {\n\tsearchPopup__inherits(searchPopup, _Component);\n\n\tfunction searchPopup(props) {\n\t\tsearchPopup__classCallCheck(this, searchPopup);\n\n\t\tvar _this = searchPopup__possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.processText = function (text) {\n\t\t\tvar strippedText = text.replace(regex, '');\n\t\t\tvar value = _this.state.value;\n\n\t\t\tvar parts = strippedText.split(new RegExp('(' + value + ')', 'gi'));\n\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t'p',\n\t\t\t\tnull,\n\t\t\t\tparts.map(function (part, i) {\n\t\t\t\t\treturn part.toLowerCase() === value.toLowerCase() ? Object(preact_min[\"h\"])(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ key: i, style: { fontWeight: 'bold' } },\n\t\t\t\t\t\tpart\n\t\t\t\t\t) : part;\n\t\t\t\t})\n\t\t\t);\n\t\t};\n\n\t\t_this.defaultSearchHandler = function (event) {\n\t\t\tvar value = void 0;\n\t\t\tif (event) {\n\t\t\t\tvalue = event.target.value;\n\t\t\t} else {\n\t\t\t\t// unreliable\n\t\t\t\tvalue = _this.state.value;\n\t\t\t}\n\n\t\t\tvar hostname = 'www.quikr.com';\n\t\t\tif (window && window.location && window.location.hostname) {\n\t\t\t\thostname = window.location.hostname;\n\t\t\t}\n\n\t\t\tvar cityId = cookies.get('prefer_city_id') || null;\n\t\t\tvar subdom = cookies.get('new_prefer_city') || 'app';\n\n\t\t\tvar searchUrl = cityId ? '//' + hostname + '/common?aj=1&for=searchautosuggest&data=' + value + '&subdom=' + subdom + '&rand=1515663417214&cityId=' + cityId : '//' + hostname + '/common?aj=1&for=searchautosuggest&data=' + value + '&subdom=' + subdom + '&rand=1515663417214';\n\n\t\t\taxiosInstance.get(searchUrl).then(function (res) {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\tresults: res.data,\n\t\t\t\t\t\terr: null\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\tresults: [],\n\t\t\t\t\t\terr: 'Something went wrong'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).catch(function (err) {\n\t\t\t\t_this.setState({\n\t\t\t\t\terr: err,\n\t\t\t\t\tresults: []\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\t_this.updateSearchSuggestions = function (searchSuggestions) {\n\t\t\t_this.setState({\n\t\t\t\tsearchSuggestions: searchSuggestions\n\t\t\t});\n\t\t};\n\n\t\t_this.handleSearch = function (event) {\n\t\t\tvar onSearchCallback = _this.props.onSearchCallback;\n\t\t\tvar value = event.target.value;\n\n\t\t\t_this.setState({\n\t\t\t\tvalue: value\n\t\t\t});\n\n\t\t\t// if onSearchCallback is in props and its a method then call that method\n\t\t\tif (onSearchCallback && typeof onSearchCallback === 'function') {\n\t\t\t\t// If they still want to call the defaultSearch handler, it is passed as second arguement (if we want to fire an event before fetching search results)\n\t\t\t\tonSearchCallback(event, _this.updateSearchSuggestions, _this.defaultSearchHandler);\n\t\t\t} else {\n\t\t\t\t// call the default search handler\n\t\t\t\t_this.defaultSearchHandler(event);\n\t\t\t}\n\t\t};\n\n\t\t_this.handleSearchRedirect = function (event) {\n\t\t\tevent.preventDefault();\n\n\t\t\tvar value = _this.state.value;\n\n\t\t\tif (value && value !== '') {\n\t\t\t\t_this.pushToRecentSearches(value);\n\n\t\t\t\tvar onSearchSubmit = _this.props.onSearchSubmit;\n\n\t\t\t\tif (onSearchSubmit && typeof onSearchSubmit === 'function') {\n\t\t\t\t\tonSearchSubmit(value, _this.redirectToSearchResults);\n\t\t\t\t} else {\n\t\t\t\t\t_this.redirectToSearchResults(value);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t_this.handleRecentSearchClick = function (value, event) {\n\t\t\t_this.pushToRecentSearches(value);\n\t\t\tif (_this.props.onRecentSearchClick && typeof _this.props.onRecentSearchClick === 'function') {\n\t\t\t\t_this.props.onRecentSearchClick(value, event);\n\t\t\t} else {\n\t\t\t\t_this.redirectToSearchResults(value);\n\t\t\t}\n\t\t};\n\n\t\t_this.handleTrendingSearchClick = function (value, event) {\n\t\t\t_this.pushToRecentSearches(value);\n\t\t\tif (_this.props.onTrendingSearchClick && typeof _this.props.onTrendingSearchClick === 'function') {\n\t\t\t\t_this.props.onTrendingSearchClick(value, event);\n\t\t\t} else {\n\t\t\t\t_this.redirectToSearchResults(value);\n\t\t\t}\n\t\t};\n\n\t\t_this.pushToRecentSearches = function (value) {\n\t\t\t// Add the search to recent searches\n\t\t\tif (localStorage) {\n\t\t\t\tvar recentSearches = localStorage.getItem(constants[\"j\" /* RECENT_SEARCHES_KEY */]);\n\t\t\t\tif (recentSearches) {\n\t\t\t\t\trecentSearches = recentSearches.split(',');\n\t\t\t\t} else {\n\t\t\t\t\trecentSearches = [];\n\t\t\t\t}\n\t\t\t\t// find the current value in recent searches if it exists delete it or else if the length >= 3 then delete the last element\n\t\t\t\tvar index = recentSearches.indexOf(value);\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\trecentSearches.splice(index, 1);\n\t\t\t\t} else if (recentSearches.length >= 3) {\n\t\t\t\t\trecentSearches.pop();\n\t\t\t\t}\n\t\t\t\t// push the current value at the end\n\t\t\t\trecentSearches.unshift(value);\n\t\t\t\tlocalStorage.setItem(constants[\"j\" /* RECENT_SEARCHES_KEY */], recentSearches);\n\t\t\t}\n\t\t};\n\n\t\t_this.redirectToSearchResults = function (value) {\n\n\t\t\t// redirect to search results page\n\t\t\tvar hostname = 'www.quikr.com';\n\t\t\tif (window && window.location && window.location.hostname) {\n\t\t\t\thostname = window.location.hostname;\n\t\t\t}\n\n\t\t\twindow.location = 'http://' + hostname + '/' + value + '-all/' + value + '/x23?sx=true';\n\t\t};\n\n\t\t_this.getSearchSuggestions = function () {\n\t\t\tvar searchSuggestions = _this.props.searchSuggestions;\n\t\t\tvar _this$state = _this.state,\n\t\t\t    results = _this$state.results,\n\t\t\t    err = _this$state.err,\n\t\t\t    suggestions = _this$state.searchSuggestions;\n\n\t\t\tif (suggestions) {\n\t\t\t\treturn suggestions;\n\t\t\t}\n\t\t\t// Should be removed when everyone uses callback to update suggestions\n\t\t\tif (searchSuggestions) {\n\t\t\t\treturn searchSuggestions;\n\t\t\t}\n\t\t\tif (err || results.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'toolbar-search__suggestions' },\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'h5',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Suggestions'\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\tmaterial_list[\"a\" /* default */],\n\t\t\t\t\tnull,\n\t\t\t\t\tresults.map(function (v) {\n\t\t\t\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t\t\t\tmaterial_list_item[\"a\" /* default */],\n\t\t\t\t\t\t\t{ key: v.id, link: true, href: v.url },\n\t\t\t\t\t\t\tObject(preact_min[\"h\"])(searchIcons[\"b\" /* Search */], { 'class': 'search__suggester--icon' }),\n\t\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t\t'p',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t_this.processText(v.keyworddata[0]),\n\t\t\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t\t\t'label',\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\t'in ' + v.subcatdata\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\n\t\t_this.state = {\n\t\t\tvalue: null,\n\t\t\tresults: [],\n\t\t\terr: null,\n\t\t\tsearchSuggestions: null\n\t\t};\n\t\treturn _this;\n\t}\n\n\t// On change is triggered when the input loses focus, so moving it to form onSubmit\n\n\n\t// Subcomponent getters\n\n\n\tsearchPopup.prototype.render = function render(_ref, _ref2, context) {\n\t\tvar show = _ref.show,\n\t\t    placeholder = _ref.placeholder,\n\t\t    handleSearch = _ref.handleSearch,\n\t\t    closePopup = _ref.closePopup,\n\t\t    _ref$showTrendingSear = _ref.showTrendingSearches,\n\t\t    showTrendingSearches = _ref$showTrendingSear === undefined ? true : _ref$showTrendingSear,\n\t\t    _ref$showRecentSearch = _ref.showRecentSearches,\n\t\t    showRecentSearches = _ref$showRecentSearch === undefined ? true : _ref$showRecentSearch;\n\t\tvar value = _ref2.value,\n\t\t    results = _ref2.results,\n\t\t    err = _ref2.err;\n\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\tpageLayer[\"a\" /* default */],\n\t\t\t{ show: show },\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\tmaterial_toolbar[\"a\" /* default */],\n\t\t\t\tnull,\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\tmaterial_toolbar_row[\"a\" /* default */],\n\t\t\t\t\tnull,\n\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\tmaterial_toolbar_section[\"a\" /* default */],\n\t\t\t\t\t\t{ start: true },\n\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t'a',\n\t\t\t\t\t\t\t{ 'class': 'mdc-toolbar__icon--menu', onClick: closePopup },\n\t\t\t\t\t\t\tObject(preact_min[\"h\"])(headerIcons[\"b\" /* Back */], { 'class': 'mdc-toolbar__icons' })\n\t\t\t\t\t\t),\n\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\tmaterial_toolbar_title[\"a\" /* default */],\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{ 'class': 'toolbar-search' },\n\t\t\t\t\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t\t\t\t\t'form',\n\t\t\t\t\t\t\t\t\t{ onSubmit: this.handleSearchRedirect },\n\t\t\t\t\t\t\t\t\tObject(preact_min[\"h\"])('input', { 'class': 'toolbar-search__field', value: value, autoFocus: true, type: 'search', placeholder: placeholder, onInput: this.handleSearch })\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\t{ 'class': 'search__suggester' },\n\t\t\t\tthis.getSearchSuggestions(),\n\t\t\t\t(!value || value === '') && Object(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\tshowRecentSearches && Object(preact_min[\"h\"])(search_recentSearches, { onClick: this.handleRecentSearchClick, searchCallback: this.redirectToSearchResults }),\n\t\t\t\t\tshowTrendingSearches && Object(preact_min[\"h\"])(search_trendingSearches, { onClick: this.handleTrendingSearchClick, searchCallback: this.redirectToSearchResults })\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t};\n\n\treturn searchPopup;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var search_searchPopup = __webpack_exports__[\"default\"] = (searchPopup_searchPopup);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 1.chunk.c5ac0.js","import { h, Component } from 'preact';\nimport axios from 'axios';\n\nimport List from 'q-mdc/elements/material-list';\nimport ListItem from 'q-mdc/elements/material-list-item';\n\nimport { Trending } from '../../icons/searchIcons';\nimport styles from '../suggester.scss';\nimport {\n\tHEADER_API_HOST,\n\tTRENDING_SEARCH_API_PATH,\n\tTRENDING_SEARCHES_KEY\n} from '../../../helpers/constants';\nimport {\n\tgetCurrentCityId\n} from '../../../helpers/';\n\nexport default class TrendingSearches extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttrendingSearches: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchTrendingSearches();\n\t}\n\n\tfetchTrendingSearches = () => {\n\t\t// fetch trending searches from APi\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS for more info on CORS preflight headers\n\t\t// Can use URLSearchParams but there is only value to send, and URLSearchParams has some browser dependencies and we can even use encodeURIComponent\n\t\t// Or we can configure our server to send Accept: * in CORS preflight request\n\t\tif (sessionStorage) {\n\t\t\tconst trendingSearches = JSON.parse(sessionStorage.getItem(TRENDING_SEARCHES_KEY));\n\t\t\tif (trendingSearches && trendingSearches.length > 0) {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttrendingSearches\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tconst data = `cityId=${getCurrentCityId()}`;\n\t\taxios.post(`${HEADER_API_HOST}/${TRENDING_SEARCH_API_PATH}`, data, {\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t}\n\t\t}).then((response) => {\n\t\t\tconst trendingSearches = [];\n\t\t\tif (response.data) {\n\t\t\t\tresponse.data.forEach((searchItem, index) => {\n\t\t\t\t\ttrendingSearches.push(Object.keys(searchItem.attr).reduce((str, currentValue) => (str + ' ' + searchItem.attr[currentValue]), ''));\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (sessionStorage) {\n\t\t\t\tsessionStorage.setItem(TRENDING_SEARCHES_KEY, JSON.stringify(trendingSearches));\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\ttrendingSearches\n\t\t\t});\n\t\t});\n\t}\n\n\thandleClick = (event) => {\n\t\tconst value = event.target.innerText;\n\t\tif (this.props.onClick && typeof this.props.onClick === 'function') {\n\t\t\tthis.props.onClick(value, event);\n\t\t}\n\t\telse {\n\t\t\tconst { searchCallback } = this.props;\n\t\t\tsearchCallback(value);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { trendingSearches } = this.state;\n\t\tif (trendingSearches.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (<div>\n\t\t\t<h5>\n\t\t\t\tTrending Searches\n\t\t\t</h5>\n\t\t\t<List>\n\t\t\t\t{trendingSearches.map((searchItem) => (<ListItem>\n\t\t\t\t\t<Trending class=\"search__suggester--icon\" />\n\t\t\t\t\t<p onClick={this.handleClick}>{searchItem}</p>\n\t\t\t\t</ListItem>))}\n\t\t\t</List>\n\t\t</div>);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/q-components/components/search/trendingSearches/index.js","import { h, Component } from 'preact';\n\nimport List from 'q-mdc/elements/material-list';\nimport ListItem from 'q-mdc/elements/material-list-item';\n\nimport { Recent } from '../../icons/searchIcons';\nimport { RECENT_SEARCHES_KEY } from '../../../helpers/constants';\n\nimport styles from '../suggester.scss';\n\nexport default class RecentSearches extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\trecentSearches: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchRecentSearches();\n\t}\n\n\tfetchRecentSearches = () => {\n\t\tif (localStorage) {\n\t\t\tconst recentSearches = localStorage.getItem(RECENT_SEARCHES_KEY);\n\t\t\tif (recentSearches) {\n\t\t\t\tthis.setState({\n\t\t\t\t\trecentSearches: recentSearches.split(',')\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\thandleRecentSearchClick = (event) => {\n\t\tconst value = event.target.innerText;\n\t\tif (this.props.onClick && typeof this.props.onClick === 'function') {\n\t\t\tthis.props.onClick(value, event);\n\t\t}\n\t\telse {\n\t\t\tconst { searchCallback } = this.props;\n\t\t\tif (searchCallback && typeof searchCallback === 'function') {\n\t\t\t\tsearchCallback(value);\n\t\t\t}\n\t\t}\n\t}\n\n\thandleClearClick = (e) => {\n\t\tif (this.props.onClearClick && typeof this.props.onClearClick === 'function') {\n\t\t\tthis.props.onClearClick(e);\n\t\t}\n\t\telse {\n\t\t\tlocalStorage.setItem(RECENT_SEARCHES_KEY, '');\n\t\t\tthis.setState({\n\t\t\t\trecentSearches: []\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { recentSearches } = this.state;\n\t\tconst { className } = this.props;\n\t\tif (recentSearches.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (<div className={className}>\n\t\t\t<h5>\n\t\t\t\tRecent Searches\n\t\t\t\t<a onClick={this.handleClearClick}>clear</a>\n\t\t\t</h5>\n\t\t\t<List>\n\t\t\t\t{recentSearches.map((searchItem) => (<ListItem>\n\t\t\t\t\t<Recent class=\"search__suggester--icon\" />\n\t\t\t\t\t<p onClick={this.handleRecentSearchClick}>{searchItem}</p>\n\t\t\t\t</ListItem>))}\n\t\t\t</List>\n\t\t</div>);\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/q-components/components/search/recentSearches/index.js","import { h, Component } from 'preact';\n\nimport Popup from '../../pageLayer';\nimport Toolbar from 'q-mdc/elements/material-toolbar';\nimport ToolbarRow from 'q-mdc/elements/material-toolbar-row';\nimport ToolbarSection from 'q-mdc/elements/material-toolbar-section';\nimport ToolbarTitle from 'q-mdc/elements/material-toolbar-title';\nimport List from 'q-mdc/elements/material-list';\nimport ListItem from 'q-mdc/elements/material-list-item';\n\nimport { Back } from '../../icons/headerIcons';\nimport {  Search as SearchIcon } from '../../icons/searchIcons';\nimport TrendingSearches from '../trendingSearches';\nimport RecentSearches from '../recentSearches';\nimport { RECENT_SEARCHES_KEY } from '../../../helpers/constants';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\n\nconst regex = /(<([^>]+)>)/ig;\n\nconst axiosInstance = axios.create({\n\tbaseURL: 'https://www.quikr.com/',\n\ttimeout: 1000,\n\theaders: {\n\t\taccept: 'application/json, text/javascript, */*; q=0.01',\n\t\t'accept-language': 'en-GB,en-US;q=0.9,en;q=0.8',\n\t\t'cache-control': 'no-cache',\n\t\t'postman-token': '05ebf28a-dc1b-1d07-bc81-2b0402e3f3b5'\n\t}\n});\n\nconst cookies = new Cookies();\n\nclass searchPopup  extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tvalue: null,\n\t\t\tresults: [],\n\t\t\terr: null,\n\t\t\tsearchSuggestions: null\n\t\t};\n\t}\n    \n\tprocessText = (text) => {\n\t\tconst strippedText = text.replace(regex, '');\n\t\tconst { value } = this.state;\n\t\tconst parts = strippedText.split(new RegExp(`(${value})`,'gi'));\n\t\treturn (<p>{\n\t\t\tparts.map((part, i) => (part.toLowerCase() === value.toLowerCase() ? <span key={i} style={{ fontWeight: 'bold' }}>{part}</span> : part ))\n\t\t}</p>);\n\t}\n\n\tdefaultSearchHandler = (event) => {\n\t\tlet value;\n\t\tif (event) {\n\t\t\tvalue = event.target.value;\n\t\t}\n\t\telse {\n\t\t\t// unreliable\n\t\t\tvalue = this.state.value;\n\t\t}\n\n\t\tlet hostname = 'www.quikr.com';\n\t\tif ( window && window.location && window.location.hostname ) {\n\t\t\thostname = window.location.hostname;\n\t\t}\n\n\t\tlet cityId = cookies.get('prefer_city_id') || null;\n\t\tlet subdom = cookies.get('new_prefer_city') || 'app';\n\n\t\tconst searchUrl = cityId ? `//${hostname}/common?aj=1&for=searchautosuggest&data=${value}&subdom=${subdom}&rand=1515663417214&cityId=${cityId}` : `//${hostname}/common?aj=1&for=searchautosuggest&data=${value}&subdom=${subdom}&rand=1515663417214`;\n\t\t\n\t\taxiosInstance.get(searchUrl)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tresults: res.data,\n\t\t\t\t\t\terr: null\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tresults: [],\n\t\t\t\t\t\terr: 'Something went wrong'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).catch((err) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\terr,\n\t\t\t\t\tresults: []\n\t\t\t\t});\n\t\t\t});\n\t}\n\n\tupdateSearchSuggestions = (searchSuggestions) => {\n\t\tthis.setState({\n\t\t\tsearchSuggestions\n\t\t});\n\t}\n\n\thandleSearch = (event) => {\n\t\tconst { onSearchCallback } = this.props;\n\n\t\tconst { target: { value } } = event;\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\n\t\t// if onSearchCallback is in props and its a method then call that method\n\t\tif (onSearchCallback && typeof(onSearchCallback) === 'function') {\n\t\t\t// If they still want to call the defaultSearch handler, it is passed as second arguement (if we want to fire an event before fetching search results)\n\t\t\tonSearchCallback(event, this.updateSearchSuggestions, this.defaultSearchHandler);\n\t\t}\n\t\telse {\n\t\t\t// call the default search handler\n\t\t\tthis.defaultSearchHandler(event);\n\t\t}\n\t}\n\n\n\t// On change is triggered when the input loses focus, so moving it to form onSubmit\n\thandleSearchRedirect = (event) => {\n\t\tevent.preventDefault();\n\t\t\n\t\tconst { value } = this.state;\n\t\tif (value && value !== '') {\n\t\t\tthis.pushToRecentSearches(value);\n\t\t\t\n\t\t\tconst { onSearchSubmit } = this.props;\n\t\t\tif (onSearchSubmit && typeof(onSearchSubmit) === 'function') {\n\t\t\t\tonSearchSubmit(value, this.redirectToSearchResults);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.redirectToSearchResults(value);\n\t\t\t}\n\t\t}\n\t}\n\n\thandleRecentSearchClick = (value, event) => {\n\t\tthis.pushToRecentSearches(value);\n\t\tif (this.props.onRecentSearchClick && typeof(this.props.onRecentSearchClick) === 'function') {\n\t\t\tthis.props.onRecentSearchClick(value, event);\n\t\t}\n\t\telse {\n\t\t\tthis.redirectToSearchResults(value);\n\t\t}\n\t}\n\n\thandleTrendingSearchClick = (value, event) => {\n\t\tthis.pushToRecentSearches(value);\n\t\tif (this.props.onTrendingSearchClick && typeof(this.props.onTrendingSearchClick) === 'function') {\n\t\t\tthis.props.onTrendingSearchClick(value, event);\n\t\t}\n\t\telse {\n\t\t\tthis.redirectToSearchResults(value);\n\t\t}\n\t}\n\n\tpushToRecentSearches = (value) => {\n\t\t// Add the search to recent searches\n\t\tif (localStorage) {\n\t\t\tlet recentSearches = localStorage.getItem(RECENT_SEARCHES_KEY);\n\t\t\tif (recentSearches) {\n\t\t\t\trecentSearches = recentSearches.split(',');\n\t\t\t}\n\t\t\telse {\n\t\t\t\trecentSearches = [];\n\t\t\t}\n\t\t\t// find the current value in recent searches if it exists delete it or else if the length >= 3 then delete the last element\n\t\t\tconst index = recentSearches.indexOf(value);\n\t\t\tif (index >= 0) {\n\t\t\t\trecentSearches.splice(index, 1);\n\t\t\t}\n\t\t\telse if (recentSearches.length >= 3) {\n\t\t\t\trecentSearches.pop();\n\t\t\t}\n\t\t\t// push the current value at the end\n\t\t\trecentSearches.unshift(value);\n\t\t\tlocalStorage.setItem(RECENT_SEARCHES_KEY, recentSearches);\n\t\t}\n\t}\n\n\tredirectToSearchResults = (value) => {\n\t\t\n\t\t// redirect to search results page\n\t\tlet hostname = 'www.quikr.com';\n\t\tif ( window && window.location && window.location.hostname ) {\n\t\t\thostname = window.location.hostname;\n\t\t}\n\n\t\twindow.location = `http://${hostname}/${value}-all/${value}/x23?sx=true`;\n\t}\n\n\t// Subcomponent getters\n\tgetSearchSuggestions = () => {\n\t\tconst { searchSuggestions } = this.props;\n\t\tconst { results, err, searchSuggestions: suggestions } = this.state;\n\t\tif (suggestions) {\n\t\t\treturn suggestions;\n\t\t}\n\t\t// Should be removed when everyone uses callback to update suggestions\n\t\tif (searchSuggestions) {\n\t\t\treturn searchSuggestions;\n\t\t}\n\t\tif (err || results.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (<div class=\"toolbar-search__suggestions\">\n\t\t\t<h5>Suggestions</h5>\n\t\t\t<List>\n\t\t\t\t{results.map((v) =>\n\t\t\t\t\t(<ListItem key={v.id} link href={v.url}>\n\t\t\t\t\t\t<SearchIcon class=\"search__suggester--icon\" />\n\t\t\t\t\t\t<p>{this.processText(v.keyworddata[0])}\n\t\t\t\t\t\t\t<label>{`in ${v.subcatdata}`}</label>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\n\t\t\t\t\t</ListItem>\n\n\t\t\t\t\t))}\n\t\t\t</List>\n\t\t</div>);\n\t}\n\n\trender ({ show, placeholder,handleSearch, closePopup, showTrendingSearches = true, showRecentSearches = true },{ value, results, err },context) {\n\t\treturn (<Popup show={show} >\n\t\t\t<Toolbar>\n\t\t\t\t<ToolbarRow>\n\t\t\t\t\t<ToolbarSection start>\n\t\t\t\t\t\t<a class=\"mdc-toolbar__icon--menu\" onClick={closePopup}>\n\t\t\t\t\t\t\t<Back class=\"mdc-toolbar__icons\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ToolbarTitle>\n\t\t\t\t\t\t\t<div class=\"toolbar-search\">\n\t\t\t\t\t\t\t\t<form onSubmit={this.handleSearchRedirect}>\n\t\t\t\t\t\t\t\t\t<input class=\"toolbar-search__field\" value={value} autoFocus type=\"search\" placeholder={placeholder} onInput={this.handleSearch} />\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ToolbarTitle>\n\n\t\t\t\t\t</ToolbarSection>\n\n\t\t\t\t</ToolbarRow>\n\t\t\t</Toolbar>\n\t\t\t<div class=\"search__suggester\">\n\t\t\t\t{this.getSearchSuggestions()}\n\t\t\t\t{(!value || value === '') && <div>\n\t\t\t\t\t{showRecentSearches && <RecentSearches onClick={this.handleRecentSearchClick} searchCallback={this.redirectToSearchResults} />}\n\t\t\t\t\t{showTrendingSearches && <TrendingSearches onClick={this.handleTrendingSearchClick} searchCallback={this.redirectToSearchResults} />}\n\t\t\t\t</div>}\n\t\t\t\t{/* results.length === 0 && <Suggester />  */}\n\t\t\t</div>\n\t\t</Popup>);\n\t}\n}\n        \nexport default searchPopup;\n        \n\n\n// WEBPACK FOOTER //\n// ../node_modules/q-components/components/search/searchPopup/index.js"],"sourceRoot":""}